name: Node.js CI
on: [push]

jobs:
  build:

    runs-on: self-hosted

    steps:
      - uses: actions/checkout@v4
        # Assuming that the ssh connection from the runner to the lxc is already established 
      - name: Connect to the lxc
        run: ssh ${{secrets.REMOTE_USERNAME}}@${{secrets.REMOTE_HOST}}
      - name: Clone/Pull the repo
        # Also assuming that the user github info is present in lxc already
        run: |
            cd ${{secrets.REPO_NAME}}
            git pull origin main
      - name: Test if works
        run: echo "It works!"
